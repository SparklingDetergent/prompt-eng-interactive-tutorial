# 第3章: ロールの割り当て（ロールプロンプティング）

このドキュメントは `Anthropic 1P/03_Assigning_Roles_Role_Prompting.ipynb` の主要な概念を日本語で説明するものです。

## レッスン

Claudeは指示されたこと以外にコンテキストを持たないというテーマに続き、時には**Claudeに特定の役割（必要な全てのコンテキストを含む）を担うよう指示する（プロンプトする）**ことが重要です。これはロールプロンプティングとしても知られています。ロールのコンテキストが詳細であるほど良い結果が得られます。

**Claudeに役割をプライミング（予備設定）することで、執筆からコーディング、要約に至るまで、さまざまな分野でClaudeのパフォーマンスを向上させる**ことができます。これは、人間が「______のように考えてみて」と言われることで助けられることがあるのと似ています。ロールプロンプティングはまた、Claudeの応答のスタイル、トーン、様式を変えることができます。

**注：** ロールプロンプティングは、システムプロンプト内で行うことも、ユーザーメッセージターンの一部として行うこともできます。

### 例

以下の例では、ロールプロンプティングなしの場合、スケートボードについて一文で意見を求められたClaudeは、**率直で様式化されていない回答**を提供します。

しかし、Claudeに猫の役割を担うようプライミングすると、Claudeの視点が変わり、その結果、**Claudeの応答のトーン、スタイル、内容が新しい役割に適応します**。

**注：** ボーナステクニックとして、**Claudeに意図する聴衆に関するコンテキストを提供する**ことができます。以下では、プロンプトを微調整して、Claudeが誰に話しかけるべきかを伝えることもできました。「あなたは猫です」というプロンプトは、「あなたはスケートボーダーの群衆に話しかけている猫です」というプロンプトとはかなり異なる応答を生み出します。

**例1: スケートボードについての意見**

ロールプロンプティングなし（システムプロンプトなし）:
```
User: スケートボードについて一言でどう思いますか？
```
Claudeの応答: (標準的で直接的な意見)

ロールプロンプティングあり:
```
System: あなたは猫です。
User: スケートボードについて一言でどう思いますか？
```
Claudeの応答: (猫の視点からの、トーンやスタイルが変わった意見)

**例2: 論理パズル**

ロールプロンプティングは、Claudeに特定のスタイルで文章を書かせたり、特定の声で話させたり、回答の複雑さを誘導したりする方法として使用できます。**ロールプロンプティングはまた、Claudeが数学や論理タスクをよりうまく実行できるようにする**ことができます。

例えば、以下の論理パズルの例では、明確な正解（「はい」）がありますが、Claudeはそれを間違え、情報が不足していると考えます（実際には不足していません）。

ロールプロンプティングなし:
```
User: ジャックはアンを見ています。アンはジョージを見ています。ジャックは結婚しており、ジョージは結婚していません。アンが結婚しているかどうかはわかりません。結婚している人が結婚していない人を見ていますか？
```
Claudeの応答: (不確実、または間違った結論)

ロールプロンプティングあり:
```
System: あなたは複雑な論理問題を解決するために設計された論理ボットです。
User: ジャックはアンを見ています。アンはジョージを見ています。ジャックは結婚しており、ジョージは結婚していません。アンが結婚しているかどうかはわかりません。結婚している人が結婚していない人を見ていますか？
```
Claudeの応答: (より論理的で正確な結論に至る可能性が高い)

**注：** このコースを通じて学ぶことになるのは、**同様の結果を得るために使用できる多くのプロンプトエンジニアリング技術がある**ということです。どの技術を使用するかは、あなた自身とあなたの好み次第です！**自分自身のプロンプトエンジニアリングスタイルを見つけるために実験する**ことをお勧めします。

## 重要なポイント

- **役割を明確に定義する:** Claudeにどのようなペルソナ（性格、専門知識、視点）を持ってほしいかを具体的に記述します。
- **コンテキストを提供する:** 役割を果たすために必要な背景情報や知識を提供します。
- **一貫性を保つ:** プロンプト全体で役割の一貫性を保つことが、期待する応答を得るために重要です。
- **システムプロンプトとユーザーメッセージの使い分け:** 一般的な役割設定はシステムプロンプトに、一時的または特定のタスクに関連する役割はユーザーメッセージに記述することを検討します。

## 演習

（このセクションは元のノートブックの演習に関連しますが、ここでは省略します。）

## まとめ

この章では、ロールプロンプティングの概念とその重要性を学びました。Claudeに特定の役割を割り当てることで、応答の質、スタイル、正確性を向上させることができます。役割の定義が詳細であるほど、また対象読者についての情報を提供することで、さらに効果的な結果が期待できます。さまざまなプロンプト技術を試し、自分に合ったスタイルを見つけることが推奨されます。
